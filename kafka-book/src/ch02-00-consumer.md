# 消费者
消费者从 broker 上订阅主题，并从主题中拉取消息。除了消费者(Consumer)，Kafka 还有消费组(Consumer Group)，每个消费者都有一个对应的消费组，当消息发布到主题后只会被投递给订阅了该主题的消费组中的一个消费者。

消费组是一个逻辑上的概念，每个消费者只隶属于一个消费组，每个消费组有一个固定的名称，消费者在进行消费前需要指定其所属的消费组的名称，通过 ```group.id``` 来配置；消费者并非逻辑上的概念，它可以是一个进程也可以是一个线程，同一消费组的消费者可以在同一台机器也可以在不同的台机器。

对于消息中间件而言一般有两种投递模式：点对点(Point-to-Point)模式和发布订阅(Pub/Sub)模式。点对点模式是基于队列的，消息生产者发送消息到消息队列，消费者从消息队列中接收消息；发布订阅模式中生产者将消息发布到主题，订阅主题的消费者都能接收到消息。Kafka 支持这两种投递模式：

- 如果所有消费者都隶属于同一个消费组，那么所有的消息都被均匀地投递到每一个消费者，即每条消息只会被一个消费者处理，相当于点对点模式
- 如果所有的消费者都隶属于不同的消费组，那么所有的消息都会被广播给所有的消费者，即每条消息都会被所有的消费者处理，相当于发布/订阅模式


消费者(Consumer)以 pull 的方式获取数据，是 Kafka 消费消息的客户端。Kafka 中每个消费者都属于一个消费组(Consumer Group)，消费组通过 group.id 指定集群唯一，可以为消费者指定消费组如果没有指定则默认为 test-consumer-group；消费者也有集群唯一的 id，通过 client.id 指定，如果没有指定则默认为 ```${groupId}-${hostName}-${timestamp}-${UUID前8位}```。

**同一个主题的消息只能被同一个消费组下某一个消费者消费，但不同消费组的消费者可同时消费该消息**；消费组是 Kafka 用来实现对一个消息进行广播和单播的手段，实现消息广播只需要指定各消费者属于不同的消费组，实现消息单播只需要让各消费者属于同一个消费组。